import matplotlib
from matplotlib import pyplot as plt
from statistics import mean
from matplotlib.ticker import MaxNLocator

tmp_data = [{1: 0, 2: 0, 3: 1, 4: 1, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, 10: 0, 11: 0, 12: 0, 13: 0, 14: 0, 15: 0, 16: 0, 17: 0, 18: 0, 19: 0, 21: 0, 22: 1, 23: 1, 24: 0, 25: 0, 26: 0, 27: 0, 28: 1, 29: 0, 30: 0, 31: 0, 32: 2, 33: 1, 34: 0, 35: 0, 36: 0, 37: 0},
{1: 0, 2: 0, 3: 0, 4: 0, 5: 3, 6: 2, 7: 0, 8: 0, 9: 0, 10: 0, 11: 0, 12: 1, 13: 0, 14: 0, 15: 1, 16: 0, 17: 0, 18: 0, 19: 0, 21: 2, 22: 2, 23: 0, 24: 0, 25: 0, 26: 0, 27: 2, 28: 1, 29: 0, 30: 1, 31: 1, 32: 1, 33: 1, 34: 0, 35: 0, 36: 0, 37: 1},
{1: 0, 2: 0, 3: 1, 4: 0, 5: 0, 6: 1, 7: 1, 8: 0, 9: 0, 10: 0, 11: 1, 12: 0, 13: 0, 14: 2, 15: 0, 16: 0, 17: 0, 18: 1, 19: 0, 21: 1, 22: 1, 23: 1, 24: 2, 25: 1, 26: 0, 27: 0, 28: 0, 29: 2, 30: 1, 31: 0, 32: 1, 33: 0, 34: 0, 35: 0, 36: 0, 37: 0},
{1: 0, 2: 2, 3: 2, 4: 1, 5: 0, 6: 1, 7: 1, 8: 1, 9: 1, 10: 1, 11: 2, 12: 4, 13: 4, 14: 2, 15: 3, 16: 5, 17: 3, 18: 1, 19: 1, 21: 1, 22: 2, 23: 2, 24: 3, 25: 0, 26: 1, 27: 0, 28: 1, 29: 2, 30: 2, 31: 2, 32: 3, 33: 4, 34: 0, 35: 0, 36: 0, 37: 2},
{1: 0, 2: 2, 3: 4, 4: 0, 5: 1, 6: 4, 7: 2, 8: 2, 9: 0, 10: 1, 11: 2, 12: 0, 13: 1, 14: 1, 15: 1, 16: 2, 17: 3, 18: 1, 19: 0, 21: 1, 22: 2, 23: 3, 24: 1, 25: 0, 26: 0, 27: 0, 28: 0, 29: 1, 30: 2, 31: 1, 32: 1, 33: 2, 34: 2, 35: 2, 36: 1, 37: 1},
{1: 0, 2: 0, 3: 1, 4: 3, 5: 4, 6: 3, 7: 3, 8: 6, 9: 4, 10: 4, 11: 0, 12: 6, 13: 3, 14: 4, 15: 2, 16: 5, 17: 10, 18: 8, 19: 2, 21: 2, 22: 1, 23: 2, 24: 8, 25: 3, 26: 6, 27: 6, 28: 2, 29: 2, 30: 7, 31: 1, 32: 6, 33: 8, 34: 3, 35: 5, 36: 5, 37: 5},
{1: 0, 2: 1, 3: 5, 4: 2, 5: 1, 6: 5, 7: 6, 8: 5, 9: 1, 10: 3, 11: 5, 12: 5, 13: 5, 14: 3, 15: 0, 16: 4, 17: 4, 18: 5, 19: 2, 21: 1, 22: 7, 23: 2, 24: 2, 25: 1, 26: 3, 27: 5, 28: 8, 29: 7, 30: 3, 31: 4, 32: 2, 33: 4, 34: 6, 35: 6, 36: 4, 37: 5},
{1: 0, 2: 0, 3: 0, 4: 0, 5: 1, 6: 1, 7: 0, 8: 2, 9: 1, 10: 1, 11: 1, 12: 1, 13: 0, 14: 1, 15: 1, 16: 0, 17: 1, 18: 0, 19: 0, 21: 1, 22: 1, 23: 1, 24: 0, 25: 0, 26: 0, 27: 1, 28: 1, 29: 1, 30: 0, 31: 0, 32: 0, 33: 0, 34: 0, 35: 0, 36: 0, 37: 1},
{1: 0, 2: 2, 3: 1, 4: 0, 5: 0, 6: 2, 7: 3, 8: 2, 9: 4, 10: 1, 11: 1, 12: 0, 13: 1, 14: 1, 15: 1, 16: 0, 17: 0, 18: 0, 19: 4, 21: 2, 22: 0, 23: 1, 24: 0, 25: 0, 26: 2, 27: 0, 28: 0, 29: 0, 30: 2, 31: 2, 32: 2, 33: 2, 34: 1, 35: 1, 36: 0, 37: 3},
{1: 0, 2: 0, 3: 1, 4: 1, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, 10: 0, 11: 0, 12: 0, 13: 0, 14: 0, 15: 0, 16: 0, 17: 0, 18: 0, 19: 1, 21: 1, 22: 0, 23: 0, 24: 0, 25: 0, 26: 1, 27: 1, 28: 0, 29: 1, 30: 0, 31: 0, 32: 0, 33: 1, 34: 0, 35: 0, 36: 0, 37: 0},
{1: 0, 2: 0, 3: 0, 4: 0, 5: 1, 6: 2, 7: 0, 8: 0, 9: 0, 10: 1, 11: 1, 12: 0, 13: 1, 14: 0, 15: 1, 16: 0, 17: 0, 18: 0, 19: 0, 21: 0, 22: 0, 23: 0, 24: 0, 25: 0, 26: 0, 27: 0, 28: 0, 29: 0, 30: 0, 31: 0, 32: 0, 33: 0, 34: 0, 35: 0, 36: 0, 37: 0},
{1: 5, 2: 37, 3: 6, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, 10: 0, 11: 0, 12: 0, 13: 0, 14: 0, 15: 0, 16: 0, 17: 0, 18: 1, 19: 0, 21: 0, 22: 0, 23: 0, 24: 0, 25: 0, 26: 0, 27: 0, 28: 0, 29: 0, 30: 0, 31: 0, 32: 0, 33: 0, 34: 0, 35: 0, 36: 0, 37: 0}]



for index, data in enumerate(tmp_data):
    #fig, ax = plt.subplots()
    ax = plt.figure().gca()

    x_label = list(data.keys())
    y_value = list(data.values())

    y_mean = mean(y_value)
    y_mean = round(y_mean*100)/100

    ax.bar(x_label, y_value)

    index = index + 1

    checkin_name = index if index < 12 else "fast_check-in"

    ax.set_ylabel('Number of passenger')
    ax.set_title(f'Number of passenger per minute for check-in: {checkin_name} \n Mean: {y_mean}')

    ax.yaxis.set_major_locator(MaxNLocator(integer=True))

    plt.savefig(f'{checkin_name}.png')
    plt.close()
